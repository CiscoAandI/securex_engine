{
    "workflow": {
        "unique_name": "definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu",
        "name": "Thousand Eyes - Get Alert Details",
        "title": "Thousand Eyes - Get Alert Details",
        "type": "generic.workflow",
        "base_type": "workflow",
        "variables": [
            {
                "schema_id": "datatype.string",
                "properties": {
                    "value": "",
                    "scope": "output",
                    "name": "dateStart",
                    "type": "datatype.string",
                    "is_required": false,
                    "is_invisible": false
                },
                "unique_name": "variable_workflow_01PEDOYDR24CZ1BVTnT8WGN9HjVI8W8WJ8y",
                "object_type": "variable_workflow"
            },
            {
                "schema_id": "datatype.string",
                "properties": {
                    "value": "",
                    "scope": "output",
                    "name": "active",
                    "type": "datatype.string",
                    "is_required": false,
                    "is_invisible": false
                },
                "unique_name": "variable_workflow_01PK3W2CU6JRF4zpXn6lvTMdicRHs6QfxZ0",
                "object_type": "variable_workflow"
            },
            {
                "schema_id": "datatype.string",
                "properties": {
                    "value": "",
                    "scope": "input",
                    "name": "alertId",
                    "type": "datatype.string",
                    "description": "The alertID with which to query the Thousand Eyes API for details.",
                    "is_required": true,
                    "is_invisible": false
                },
                "unique_name": "variable_workflow_01P8H4GMIMYSV2Z8ZMjmJSNANH1B05jRwtv",
                "object_type": "variable_workflow"
            },
            {
                "schema_id": "datatype.string",
                "properties": {
                    "value": "",
                    "scope": "output",
                    "name": "Response",
                    "type": "datatype.string",
                    "description": "API Response Body from Thousand Eyes",
                    "is_required": false,
                    "is_invisible": false
                },
                "unique_name": "variable_workflow_01PCUUR2HGW9L04MdbiDgltiMdxEeuQJKYU",
                "object_type": "variable_workflow"
            },
            {
                "schema_id": "datatype.string",
                "properties": {
                    "value": "",
                    "scope": "output",
                    "name": "agentList",
                    "type": "datatype.string",
                    "is_required": false,
                    "is_invisible": false
                },
                "unique_name": "variable_workflow_01PK4N9LD54DY3HRaXY47znv4QoLXcSNtnt",
                "object_type": "variable_workflow"
            }
        ],
        "properties": {
            "atomic": {
                "atomic_group": "Cisco Thousand Eyes",
                "is_atomic": true
            },
            "delete_workflow_instance": false,
            "description": "Get Alert details from /alerts/{alertId} endpoint within Thousand Eyes.",
            "display_name": "Thousand Eyes - Get Alert Details",
            "runtime_user": {
                "target_default": true
            },
            "target": {
                "target_type": "web-service.endpoint",
                "target_id": "definition_target_01P8H37WXWG376r16HEj0CPmaaeAK9vLi6r",
                "execute_on_workflow_target": true
            }
        },
        "object_type": "definition_workflow",
        "actions": [
            {
                "unique_name": "definition_activity_01P8H22ID9PRU6DX44sHvVthqiyBKzUKLOZ",
                "name": "HTTP Request",
                "title": "GET /alerts/{alertId}",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                    "action_timeout": 60,
                    "allow_auto_redirect": true,
                    "content_type": "application/json",
                    "continue_on_error_status_code": false,
                    "continue_on_failure": false,
                    "display_name": "GET /alerts/{alertId}",
                    "method": "GET",
                    "relative_url": "/alerts/$workflow.definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu.input.variable_workflow_01P8H4GMIMYSV2Z8ZMjmJSNANH1B05jRwtv$.json",
                    "runtime_user": {
                        "target_default": true
                    },
                    "skip_execution": false,
                    "target": {
                        "use_workflow_target": true
                    }
                },
                "object_type": "definition_activity"
            },
            {
                "unique_name": "definition_activity_01PEDMO3NLLW75C8jbpe4A88VUlIMLtY2XK",
                "name": "Condition Block",
                "title": "Successful?",
                "type": "logic.if_else",
                "base_type": "activity",
                "properties": {
                    "continue_on_failure": false,
                    "display_name": "Successful?",
                    "skip_execution": false
                },
                "object_type": "definition_activity",
                "blocks": [
                    {
                        "unique_name": "definition_activity_01PEDMO9ZA1CY3NnVeMFD88SwZ17MqzcPR4",
                        "name": "Condition Branch",
                        "title": "Response Code is not 2XX?",
                        "type": "logic.condition_block",
                        "base_type": "activity",
                        "properties": {
                            "condition": {
                                "left_operand": "$activity.definition_activity_01P8H22ID9PRU6DX44sHvVthqiyBKzUKLOZ.output.succeeded$",
                                "operator": "eq",
                                "right_operand": false
                            },
                            "continue_on_failure": false,
                            "display_name": "Response Code is not 2XX?",
                            "skip_execution": false
                        },
                        "object_type": "definition_activity",
                        "actions": [
                            {
                                "unique_name": "definition_activity_01PEDN9WZBNN93vaSHAsjXXlpmN2P1AGHDP",
                                "name": "Completed",
                                "title": "Fail",
                                "type": "logic.completed",
                                "base_type": "activity",
                                "properties": {
                                    "completion_type": "failed-completed",
                                    "continue_on_failure": false,
                                    "display_name": "Fail",
                                    "result_message": "API Request failed\nStatus Code: $activity.definition_activity_01P8H22ID9PRU6DX44sHvVthqiyBKzUKLOZ.output.status_code$\nMessage: $activity.definition_activity_01P8H22ID9PRU6DX44sHvVthqiyBKzUKLOZ.output.error.message$",
                                    "skip_execution": false
                                },
                                "object_type": "definition_activity"
                            }
                        ]
                    }
                ]
            },
            {
                "unique_name": "definition_activity_01PEDP7UBRA1X5X2apBc1dlOfDReHW3QQhm",
                "name": "JSONPath Query",
                "title": "Parse Response",
                "type": "corejava.jsonpathquery",
                "base_type": "activity",
                "properties": {
                    "action_timeout": 180,
                    "continue_on_failure": false,
                    "display_name": "Parse Response",
                    "input_json": "$activity.definition_activity_01P8H22ID9PRU6DX44sHvVthqiyBKzUKLOZ.output.response_body$",
                    "jsonpath_queries": [
                        {
                            "jsonpath_query": "$.alert.[0].dateStart",
                            "jsonpath_query_name": "dateStart",
                            "jsonpath_query_type": "string"
                        },
                        {
                            "jsonpath_query": "$.alert.[0].active",
                            "jsonpath_query_name": "active",
                            "jsonpath_query_type": "string"
                        },
                        {
                            "jsonpath_query": "$.alert[0].agents",
                            "jsonpath_query_name": "agentList",
                            "jsonpath_query_type": "string"
                        }
                    ],
                    "skip_execution": false
                },
                "object_type": "definition_activity"
            },
            {
                "unique_name": "definition_activity_01PEDN60ZB9NV3b9Vns7yawu9XvHUYBE4NP",
                "name": "Set Variables",
                "title": "Set Response",
                "type": "core.set_multiple_variables",
                "base_type": "activity",
                "properties": {
                    "continue_on_failure": false,
                    "display_name": "Set Response",
                    "skip_execution": false,
                    "variables_to_update": [
                        {
                            "variable_to_update": "$workflow.definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu.output.variable_workflow_01PCUUR2HGW9L04MdbiDgltiMdxEeuQJKYU$",
                            "variable_value_new": "$activity.definition_activity_01P8H22ID9PRU6DX44sHvVthqiyBKzUKLOZ.output.response_body$"
                        },
                        {
                            "variable_to_update": "$workflow.definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu.output.variable_workflow_01PEDOYDR24CZ1BVTnT8WGN9HjVI8W8WJ8y$",
                            "variable_value_new": "$activity.definition_activity_01PEDP7UBRA1X5X2apBc1dlOfDReHW3QQhm.output.jsonpath_queries.dateStart$"
                        },
                        {
                            "variable_to_update": "$workflow.definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu.output.variable_workflow_01PK3W2CU6JRF4zpXn6lvTMdicRHs6QfxZ0$",
                            "variable_value_new": "$activity.definition_activity_01PEDP7UBRA1X5X2apBc1dlOfDReHW3QQhm.output.jsonpath_queries.active$"
                        },
                        {
                            "variable_to_update": "$workflow.definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu.output.variable_workflow_01PK4N9LD54DY3HRaXY47znv4QoLXcSNtnt$",
                            "variable_value_new": "$activity.definition_activity_01PEDP7UBRA1X5X2apBc1dlOfDReHW3QQhm.output.jsonpath_queries.agentList$"
                        }
                    ]
                },
                "object_type": "definition_activity"
            }
        ],
        "categories": [
            "category_01P8H47BOO9FS4gqbKCHuYDfprrOuSH0jBQ"
        ]
    },
    "categories": {
        "category_01P8H47BOO9FS4gqbKCHuYDfprrOuSH0jBQ": {
            "unique_name": "category_01P8H47BOO9FS4gqbKCHuYDfprrOuSH0jBQ",
            "name": "Thousand Eyes",
            "title": "Thousand Eyes",
            "type": "basic.category",
            "base_type": "category",
            "description": "Actions relating to Thousand Eyes",
            "category_type": "custom",
            "object_type": "category"
        }
    },
    "targets": {
        "definition_target_01P8H37WXWG376r16HEj0CPmaaeAK9vLi6r": {
            "unique_name": "definition_target_01P8H37WXWG376r16HEj0CPmaaeAK9vLi6r",
            "name": "Thousand Eyes V6 API - Test",
            "title": "Thousand Eyes V6 API - Test",
            "type": "web-service.endpoint",
            "base_type": "target",
            "object_type": "definition_target",
            "properties": {
                "default_runtime_user_id": "definition_runtime_user_01P8H30W2ORUO4Cvgv6sZ2dhaHKxjrKdVQp",
                "description": "Test",
                "disable_certificate_validation": true,
                "display_name": "Thousand Eyes V6 API - Test",
                "host": "api.thousandeyes.com",
                "ignore_proxy": false,
                "no_runtime_user": false,
                "path": "/v6",
                "protocol": "https"
            }
        }
    },
    "runtime_users": {
        "definition_runtime_user_01P8H30W2ORUO4Cvgv6sZ2dhaHKxjrKdVQp": {}
    }
}