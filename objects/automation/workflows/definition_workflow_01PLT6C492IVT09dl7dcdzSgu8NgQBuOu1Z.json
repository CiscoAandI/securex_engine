{
    "workflow": {
      "unique_name": "definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z",
      "name": "ACME Critical Website Health (SSE-10)",
      "title": "ACME Critical Website Health (SSE-10)",
      "type": "generic.workflow",
      "base_type": "workflow",
      "variables": [
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "local",
            "name": "sendToServiceNow",
            "type": "datatype.string",
            "is_required": false,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLT6C42IARF452wtW693fSlDpJ9iSPyuW",
          "object_type": "variable_workflow"
        },
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "local",
            "name": "affectedAgents",
            "type": "datatype.string",
            "is_required": false,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLT6C42ID7U2DURkKCUsoPOgFPlN03l2U",
          "object_type": "variable_workflow"
        },
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "input",
            "name": "alert_input",
            "type": "datatype.string",
            "is_required": true,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLT6C42I8787E2kGwgzoUWPZhbi7Halwd",
          "object_type": "variable_workflow"
        },
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "local",
            "name": "dateEnd",
            "type": "datatype.string",
            "is_required": false,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLT6C42I9JC1vz4FlsY8koVUl46VoJTK9",
          "object_type": "variable_workflow"
        },
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "local",
            "name": "getCustomerDashboard",
            "type": "datatype.string",
            "is_required": false,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLT6C42I3SN7kxWiwaZDh3KK9QhKgvoCj",
          "object_type": "variable_workflow"
        },
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "local",
            "name": "snow_snapshot",
            "type": "datatype.string",
            "is_required": false,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLT6C42IC4Q2nQ3si0azMHj6A8SKlYMAn",
          "object_type": "variable_workflow"
        },
        {
          "schema_id": "datatype.string",
          "properties": {
            "value": "",
            "scope": "input",
            "name": "customer_name",
            "type": "datatype.string",
            "is_required": true,
            "is_invisible": false
          },
          "unique_name": "variable_workflow_01PLXPJNS2C154yTmg0T5l1kebT7BjLq30k",
          "object_type": "variable_workflow"
        }
      ],
      "properties": {
        "atomic": {
          "is_atomic": false
        },
        "delete_workflow_instance": false,
        "description": "This is a clone of SSE-10, which will be used for Demo purposes",
        "display_name": "ACME Critical Website Health (SSE-10)",
        "target": {
          "no_target": true
        }
      },
      "object_type": "definition_workflow",
      "actions": [
        {
          "unique_name": "definition_activity_01PLT6ES1I07M114xtqQJTXQ0rPDhOmp8KF",
          "name": "Group",
          "title": "Receive Incoming Event",
          "type": "logic.group",
          "base_type": "activity",
          "properties": {
            "continue_on_failure": false,
            "display_name": "Receive Incoming Event",
            "skip_execution": false
          },
          "object_type": "definition_activity",
          "actions": [
            {
              "unique_name": "definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ",
              "name": "Thousand Eyes - Parse Event Data",
              "title": "Thousand Eyes - Parse Event Data",
              "type": "workflow.atomic_workflow",
              "base_type": "subworkflow",
              "properties": {
                "continue_on_failure": false,
                "display_name": "Thousand Eyes - Parse Event Data",
                "input": {
                  "variable_workflow_01PDDN1BZCJWF6KH5Q5W668EjwcLa2y7OTT": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.input.variable_workflow_01PLT6C42I8787E2kGwgzoUWPZhbi7Halwd$"
                },
                "runtime_user": {
                  "target_default": true
                },
                "skip_execution": false,
                "target": {
                  "no_target": true
                },
                "workflow_id": "definition_workflow_01PDDM76BX8722kfyMLGCoefagM8hBq2dh4"
              },
              "object_type": "definition_activity"
            },
            {
              "unique_name": "definition_activity_01PLT6F5T5VPU3WPqvjoNKIxDcoTFvXg5jW",
              "name": "Thousand Eyes - Get Test Details",
              "title": "Thousand Eyes - Get Test Details",
              "type": "workflow.atomic_workflow",
              "base_type": "subworkflow",
              "properties": {
                "continue_on_failure": false,
                "display_name": "Thousand Eyes - Get Test Details",
                "input": {
                  "variable_workflow_01PCUIXZLJKWX2LlsESGfpcgq33T5Bcb2bE": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNF531YNW4sk52BLwj3Af48CUnOWEcd$"
                },
                "runtime_user": {
                  "target_default": true
                },
                "skip_execution": false,
                "target": {
                  "execute_on_this_target": true,
                  "target_id": "definition_target_01P8H37WXWG376r16HEj0CPmaaeAK9vLi6r",
                  "target_type": "web-service.endpoint"
                },
                "workflow_id": "definition_workflow_01PCUIXZSC72J5J0HSMZbgHxAHfKR16AmXD"
              },
              "object_type": "definition_activity"
            }
          ]
        },
        {
          "unique_name": "definition_activity_01PLT6FDCS4ME6wuvPa5C9qF3SEffdHt7Qc",
          "name": "Condition Block",
          "title": "Is eventType Clear?",
          "type": "logic.if_else",
          "base_type": "activity",
          "properties": {
            "continue_on_failure": false,
            "display_name": "Is eventType Clear?",
            "skip_execution": false
          },
          "object_type": "definition_activity",
          "blocks": [
            {
              "unique_name": "definition_activity_01PLT6FHW392Z3ZyhlzTPOWYeDRNgLyfQsP",
              "name": "Condition Branch",
              "title": "No",
              "type": "logic.condition_block",
              "base_type": "activity",
              "properties": {
                "condition": {
                  "left_operand": {
                    "left_operand": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNQRY8KFJ5OD9gDT2qit6O7nNgsDvf8$",
                    "operator": "ne",
                    "right_operand": "AGENT_ALERT_NOTIFICATION_CLEAR"
                  },
                  "operator": "and",
                  "right_operand": {
                    "left_operand": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNQRY8KFJ5OD9gDT2qit6O7nNgsDvf8$",
                    "operator": "ne",
                    "right_operand": "ALERT_NOTIFICATION_CLEAR"
                  }
                },
                "continue_on_failure": false,
                "display_name": "No",
                "skip_execution": false
              },
              "object_type": "definition_activity",
              "actions": [
                {
                  "unique_name": "definition_activity_01PLT6FJWL9F31hqmboMXePOoJ1qOtWF58G",
                  "name": "Group",
                  "title": "Calculate and Wait for Interval",
                  "type": "logic.group",
                  "base_type": "activity",
                  "properties": {
                    "continue_on_failure": false,
                    "display_name": "Calculate and Wait for Interval",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6FP6W7G64G1MrQ9LO92wEwjWkp1LGK",
                      "name": "Execute Python Script",
                      "title": "Calculate Wait Interval ",
                      "type": "python3.script",
                      "base_type": "activity",
                      "properties": {
                        "action_timeout": 180,
                        "continue_on_failure": false,
                        "display_name": "Calculate Wait Interval ",
                        "script": "import sys\ninterval = max(int(sys.argv[1]), 120)",
                        "script_arguments": [
                          "$activity.definition_activity_01PLT6F5T5VPU3WPqvjoNKIxDcoTFvXg5jW.output.variable_workflow_01PJ9WT9YNYBV0dKVVUJClyyjUdpZExSUBe$"
                        ],
                        "script_queries": [
                          {
                            "script_query": "interval",
                            "script_query_name": "interval",
                            "script_query_type": "integer"
                          }
                        ],
                        "skip_execution": false
                      },
                      "object_type": "definition_activity"
                    },
                    {
                      "unique_name": "definition_activity_01PLT6FTZU2E77PJ37MTfd5kFe2bk79yA9z",
                      "name": "Sleep",
                      "title": "Wait for Interval ",
                      "type": "core.sleep",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "description": "To widen the window for the snapshot.",
                        "display_name": "Wait for Interval ",
                        "skip_execution": false,
                        "sleep_interval": "$activity.definition_activity_01PLT6FP6W7G64G1MrQ9LO92wEwjWkp1LGK.output.script_queries.interval$"
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                },
                {
                  "unique_name": "definition_activity_01PLT6FYNMN1M3LIeqxC3Gm0Himzh4ypIWG",
                  "name": "Group",
                  "title": "Get All Affected Agents",
                  "type": "logic.group",
                  "base_type": "activity",
                  "properties": {
                    "continue_on_failure": false,
                    "display_name": "Get All Affected Agents",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6G4G9TX14fSVO63tN4reaCVxxMKkSK",
                      "name": "Thousand Eyes - Get Alert Details",
                      "title": "Thousand Eyes - Get Alert Details",
                      "type": "workflow.atomic_workflow",
                      "base_type": "subworkflow",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Thousand Eyes - Get Alert Details",
                        "input": {
                          "variable_workflow_01P8H4GMIMYSV2Z8ZMjmJSNANH1B05jRwtv": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNCPD0SR74yI38VFFeYuS0GTg88lsmo$"
                        },
                        "runtime_user": {
                          "target_default": true
                        },
                        "skip_execution": false,
                        "target": {
                          "execute_on_this_target": true,
                          "target_id": "definition_target_01P8H37WXWG376r16HEj0CPmaaeAK9vLi6r",
                          "target_type": "web-service.endpoint"
                        },
                        "workflow_id": "definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu"
                      },
                      "object_type": "definition_activity"
                    },
                    {
                      "unique_name": "definition_activity_01PLT6GCIR8BA0afIZ5arrGGFN8RVVhxIzb",
                      "name": "Set Variables",
                      "title": "Set Conditionals",
                      "type": "core.set_multiple_variables",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Set Conditionals",
                        "skip_execution": false,
                        "variables_to_update": [
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42IARF452wtW693fSlDpJ9iSPyuW$",
                            "variable_value_new": "$activity.definition_activity_01PLT6G4G9TX14fSVO63tN4reaCVxxMKkSK.output.variable_workflow_01PK3W2CU6JRF4zpXn6lvTMdicRHs6QfxZ0$"
                          },
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42ID7U2DURkKCUsoPOgFPlN03l2U$",
                            "variable_value_new": "$activity.definition_activity_01PLT6G4G9TX14fSVO63tN4reaCVxxMKkSK.output.variable_workflow_01PK4N9LD54DY3HRaXY47znv4QoLXcSNtnt$"
                          },
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42I3SN7kxWiwaZDh3KK9QhKgvoCj$",
                            "variable_value_new": ""
                          }
                        ]
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                },
                {
                  "unique_name": "definition_activity_01PLT6GHM9FKW2MsdrF7HiQ5LGtjP8GN1JW",
                  "name": "Condition Block",
                  "title": "Alert Active?",
                  "type": "logic.if_else",
                  "base_type": "activity",
                  "properties": {
                    "continue_on_failure": false,
                    "display_name": "Alert Active?",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "blocks": [
                    {
                      "unique_name": "definition_activity_01PLT6GLX6DZ56F2h9SErkjxNzVSohqgsWV",
                      "name": "Condition Branch",
                      "title": "Yes",
                      "type": "logic.condition_block",
                      "base_type": "activity",
                      "properties": {
                        "condition": {
                          "left_operand": "$activity.definition_activity_01PLT6G4G9TX14fSVO63tN4reaCVxxMKkSK.output.variable_workflow_01PK3W2CU6JRF4zpXn6lvTMdicRHs6QfxZ0$",
                          "operator": "eq",
                          "right_operand": "1"
                        },
                        "continue_on_failure": false,
                        "display_name": "Yes",
                        "skip_execution": false
                      },
                      "object_type": "definition_activity",
                      "actions": [
                        {
                          "unique_name": "definition_activity_01PLT6GO51M8362p3yrdhtZpmhV2UifCIzH",
                          "name": "Group",
                          "title": "Get Customer Dashboard",
                          "type": "logic.group",
                          "base_type": "activity",
                          "properties": {
                            "continue_on_failure": false,
                            "display_name": "Get Customer Dashboard",
                            "skip_execution": false
                          },
                          "object_type": "definition_activity",
                          "actions": [
                            {
                              "unique_name": "definition_activity_01PLT6GTXK5AH2c6bfqcPfxYEueGx4nQaRI",
                              "name": "Thousand Eyes - Get Dashboards (Alpha)",
                              "title": "Thousand Eyes - Get Dashboards (Alpha)",
                              "type": "workflow.atomic_workflow",
                              "base_type": "subworkflow",
                              "properties": {
                                "display_name": "Thousand Eyes - Get Dashboards (Alpha)",
                                "runtime_user": {
                                  "target_default": true
                                },
                                "target": {
                                  "execute_on_this_target": true,
                                  "target_id": "definition_target_01PE51C8JEXET24uUK6yGqYH4hTs5oN3Brm",
                                  "target_type": "web-service.endpoint"
                                },
                                "workflow_id": "definition_workflow_01PE4UK4YJ0DN1PVSipd02Nmk7wDdxoagd3"
                              },
                              "object_type": "definition_activity"
                            },
                            {
                              "unique_name": "definition_activity_01PLT6H0S74XB0R3mIkY6NYo9yW2usfJyQ8",
                              "name": "Execute Python Script",
                              "title": "Get Customer Dashboard",
                              "type": "python3.script",
                              "base_type": "activity",
                              "properties": {
                                "action_timeout": 180,
                                "continue_on_failure": false,
                                "display_name": "Get Customer Dashboard",
                                "script": "import sys, json\ndashboardList = json.loads(sys.argv[1])\ncustomerName = sys.argv[2]\ntarget_dashboard = None\nfor dashboard in dashboardList:\n  if dashboard['title'].startswith(customerName):\n    target_dashboard = dashboard\n    break\ntarget_dashboard = f\"https://app.thousandeyes.com/dashboard/?dashboardId={target_dashboard['dashboardId']}\" if target_dashboard else None",
                                "script_arguments": [
                                  "$activity.definition_activity_01PLT6GTXK5AH2c6bfqcPfxYEueGx4nQaRI.output.variable_workflow_01PE52ITTVVU60uMSRkjoYYSFlnce4HeoSM$",
                                  "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.input.variable_workflow_01PLXPJNS2C154yTmg0T5l1kebT7BjLq30k$"
                                ],
                                "script_queries": [
                                  {
                                    "script_query": "target_dashboard",
                                    "script_query_name": "target_dashboard",
                                    "script_query_type": "string"
                                  }
                                ],
                                "skip_execution": false
                              },
                              "object_type": "definition_activity"
                            }
                          ]
                        },
                        {
                          "unique_name": "definition_activity_01PLT6H5NK9HA3rhs1JqV2Yasj6OiMR0Ma7",
                          "name": "Group",
                          "title": "Create Snapshot",
                          "type": "logic.group",
                          "base_type": "activity",
                          "properties": {
                            "continue_on_failure": false,
                            "display_name": "Create Snapshot",
                            "skip_execution": false
                          },
                          "object_type": "definition_activity",
                          "actions": [
                            {
                              "unique_name": "definition_activity_01PLT6HAKX5HT6tHMRHdhUyrN3k31T5g9H4",
                              "name": "Parse Date",
                              "title": "Parse Start Time",
                              "type": "core.parse_date",
                              "base_type": "activity",
                              "properties": {
                                "continue_on_failure": false,
                                "custom_format": "2018-01-02 15:04:05",
                                "display_name": "Parse Start Time",
                                "format_string": "2006-01-02T15:04:05-0700",
                                "input_string": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PED9QEXQLUJ1MFSaD99hZPxldnBD7JO58$",
                                "skip_execution": false,
                                "use_custom_format": true
                              },
                              "object_type": "definition_activity"
                            },
                            {
                              "unique_name": "definition_activity_01PLT6HFF7JEE5qXImYSzWitbYKktPvSj3X",
                              "name": "Calculate Date",
                              "title": "Add the Wait Time",
                              "type": "core.calculate_date",
                              "base_type": "activity",
                              "properties": {
                                "adjustment": "$activity.definition_activity_01PLT6FP6W7G64G1MrQ9LO92wEwjWkp1LGK.output.script_queries.interval$",
                                "continue_on_failure": false,
                                "display_name": "Add the Wait Time",
                                "original_date": "$activity.definition_activity_01PLT6HAKX5HT6tHMRHdhUyrN3k31T5g9H4.output.result$",
                                "skip_execution": false
                              },
                              "object_type": "definition_activity"
                            },
                            {
                              "unique_name": "definition_activity_01PLT6HKMFVXQ48FKAWGr9F894XEe8KNW8R",
                              "name": "Set Variables",
                              "title": "Set Date End",
                              "type": "core.set_multiple_variables",
                              "base_type": "activity",
                              "properties": {
                                "continue_on_failure": false,
                                "display_name": "Set Date End",
                                "skip_execution": false,
                                "variables_to_update": [
                                  {
                                    "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42I9JC1vz4FlsY8koVUl46VoJTK9$",
                                    "variable_value_new": "$activity.definition_activity_01PLT6HFF7JEE5qXImYSzWitbYKktPvSj3X.output.result$"
                                  }
                                ]
                              },
                              "object_type": "definition_activity"
                            },
                            {
                              "unique_name": "definition_activity_01PLT6HQEY42K3kEc8uRWJGoPdN5hBSqpc1",
                              "name": "Thousand Eyes - Create Snapshot",
                              "title": "Thousand Eyes - Create Snapshot",
                              "type": "workflow.atomic_workflow",
                              "base_type": "subworkflow",
                              "properties": {
                                "continue_on_failure": false,
                                "display_name": "Thousand Eyes - Create Snapshot",
                                "input": {
                                  "variable_workflow_01PDDULETNXUI2FKzdZvqRd9hRWb0gIRQO9": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNF531YNW4sk52BLwj3Af48CUnOWEcd$",
                                  "variable_workflow_01PDDUQ0B9YGP06fP3KhcP0JHAij1iHNBq6": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PED9QEXQLUJ1MFSaD99hZPxldnBD7JO58$",
                                  "variable_workflow_01PDDUT52HI8L502BSpyws7I613ppCim4Pp": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42I9JC1vz4FlsY8koVUl46VoJTK9$",
                                  "variable_workflow_01PDDUXUWFP7R3YK2X3okPEII2fySoOgiYz": "Snapshot: $activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDODYY9I673dw14mq5YluvEeBWXZr2S7$"
                                },
                                "runtime_user": {
                                  "target_default": true
                                },
                                "skip_execution": false,
                                "target": {
                                  "execute_on_this_target": true,
                                  "target_id": "definition_target_01P8H37WXWG376r16HEj0CPmaaeAK9vLi6r",
                                  "target_type": "web-service.endpoint"
                                },
                                "workflow_id": "definition_workflow_01PDDS63Y6QEH2wGlK2oPfst9dkTJGyfKGp"
                              },
                              "object_type": "definition_activity"
                            },
                            {
                              "unique_name": "definition_activity_01PLT6HZ41OT15jZAZdIBxGtZD38yttwGTV",
                              "name": "Set Variables",
                              "title": "Set Variables for Snapshot",
                              "type": "core.set_multiple_variables",
                              "base_type": "activity",
                              "properties": {
                                "continue_on_failure": false,
                                "display_name": "Set Variables for Snapshot",
                                "skip_execution": false,
                                "variables_to_update": [
                                  {
                                    "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42IC4Q2nQ3si0azMHj6A8SKlYMAn$",
                                    "variable_value_new": "\\n\\nSnapshot URL: $activity.definition_activity_01PLT6HQEY42K3kEc8uRWJGoPdN5hBSqpc1.output.variable_workflow_01PE68E045JMT7eMzZFoQXRuAMrr3AZS947$\\n\\nCustomer Dashboard URL: $activity.definition_activity_01PLT6H0S74XB0R3mIkY6NYo9yW2usfJyQ8.output.script_queries.target_dashboard$"
                                  }
                                ]
                              },
                              "object_type": "definition_activity"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "unique_name": "definition_activity_01PLT6I4JP1O41HJbueJjuVT7dyae3fP57S",
              "name": "Condition Branch",
              "title": "Yes",
              "type": "logic.condition_block",
              "base_type": "activity",
              "properties": {
                "condition": {
                  "left_operand": "$global.variable_01PIE3ZDEI7MP1SYSRDJrfUMisbYzIykzZN.global.variable_01PIE3ZDEI7MP1SYSRDJrfUMisbYzIykzZN$",
                  "operator": "eq",
                  "right_operand": "$global.variable_01PIE3ZDEI7MP1SYSRDJrfUMisbYzIykzZN.global.variable_01PIE3ZDEI7MP1SYSRDJrfUMisbYzIykzZN$"
                },
                "continue_on_failure": false,
                "display_name": "Yes",
                "skip_execution": false
              },
              "object_type": "definition_activity",
              "actions": [
                {
                  "unique_name": "definition_activity_01PLT6I734BR40CMTm1Wk0ydccg4gXisUet",
                  "name": "Group",
                  "title": "Nullify Snapshot URL",
                  "type": "logic.group",
                  "base_type": "activity",
                  "properties": {
                    "continue_on_failure": false,
                    "display_name": "Nullify Snapshot URL",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6IC45G785lBiP9sbGfZ5zFBrPkPAhV",
                      "name": "Set Variables",
                      "title": "Set Variables",
                      "type": "core.set_multiple_variables",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Set Variables",
                        "skip_execution": false,
                        "variables_to_update": [
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42IC4Q2nQ3si0azMHj6A8SKlYMAn$",
                            "variable_value_new": ""
                          },
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42IARF452wtW693fSlDpJ9iSPyuW$",
                            "variable_value_new": "1"
                          },
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42ID7U2DURkKCUsoPOgFPlN03l2U$",
                            "variable_value_new": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNHYX9YKF1uXbBCGeoSdYs3KdYbBDxL$"
                          }
                        ]
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "unique_name": "definition_activity_01PLT6IH3DYRG1z0fJKTaNjhnixPVso6ofv",
          "name": "Condition Block",
          "title": "Send to Service Now?",
          "type": "logic.if_else",
          "base_type": "activity",
          "properties": {
            "continue_on_failure": false,
            "display_name": "Send to Service Now?",
            "skip_execution": false
          },
          "object_type": "definition_activity",
          "blocks": [
            {
              "unique_name": "definition_activity_01PLT6IL36TOQ5D7obHfYY0fNyMQbDQ9L84",
              "name": "Condition Branch",
              "title": "Yes",
              "type": "logic.condition_block",
              "base_type": "activity",
              "properties": {
                "condition": {
                  "left_operand": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42IARF452wtW693fSlDpJ9iSPyuW$",
                  "operator": "eq",
                  "right_operand": "1"
                },
                "continue_on_failure": false,
                "display_name": "Yes",
                "skip_execution": false
              },
              "object_type": "definition_activity",
              "actions": [
                {
                  "unique_name": "definition_activity_01PLT6IN12KHS5taStWfb6ZYJUJ6pGpcCgh",
                  "name": "Group",
                  "title": "Send Event to Service Now",
                  "type": "logic.group",
                  "base_type": "activity",
                  "properties": {
                    "continue_on_failure": false,
                    "display_name": "Send Event to Service Now",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6IS0YGCA2GWwjLTlKud6xbRw1UWRIB",
                      "name": "Execute Python Script",
                      "title": "Format Data for Service Now",
                      "type": "python3.script",
                      "base_type": "activity",
                      "properties": {
                        "action_timeout": 180,
                        "continue_on_failure": false,
                        "display_name": "Format Data for Service Now",
                        "script": "import sys, json\n# Hack because SXO converts lists of one element into non-list\nagents = json.loads(sys.argv[1])\nif not isinstance(agents, list):\n  agents = [agents]\nagents = [i['agentName'] for i in agents]\naffectedAgentNames = '\\\\n- '.join(agents)",
                        "script_arguments": [
                          "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42ID7U2DURkKCUsoPOgFPlN03l2U$"
                        ],
                        "script_queries": [
                          {
                            "script_query": "affectedAgentNames",
                            "script_query_name": "affectedAgentNames",
                            "script_query_type": "string"
                          }
                        ],
                        "skip_execution": false
                      },
                      "object_type": "definition_activity"
                    },
                    {
                      "unique_name": "definition_activity_01PLT6IWAXEUV6kLnY8urSBNTIxBVWFJqXl",
                      "name": "JSONPath Query",
                      "title": "Get CI Node (Alpha)",
                      "type": "corejava.jsonpathquery",
                      "base_type": "activity",
                      "properties": {
                        "action_timeout": 180,
                        "continue_on_failure": false,
                        "description": "Need to standardize CI Node. See Ticket",
                        "display_name": "Get CI Node (Alpha)",
                        "input_json": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PEDJ4ZGG1QB31cHmTTmWaZvP6rCQNxJTS$",
                        "jsonpath_queries": [
                          {
                            "jsonpath_query": "$.[0]",
                            "jsonpath_query_name": "CI_NODE",
                            "jsonpath_query_type": "string"
                          }
                        ],
                        "skip_execution": false
                      },
                      "object_type": "definition_activity"
                    },
                    {
                      "unique_name": "definition_activity_01PLT6J299HHC0xut2SgfaYSdXRQjI1lFMu",
                      "name": "Thousand Eyes -> Service Now",
                      "title": "Thousand Eyes -> Service Now",
                      "type": "workflow.sub_workflow",
                      "base_type": "subworkflow",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Thousand Eyes -> Service Now",
                        "input": {
                          "variable_workflow_01PLT6CBD1U6R26yG6xVdrE5NE8sy6zXHyR": "CI Name",
                          "variable_workflow_01PLT6CBD1WQM0wE0L7x6grEOZhspfO0ZXH": "Affected Agents:\n- $activity.definition_activity_01PLT6IS0YGCA2GWwjLTlKud6xbRw1UWRIB.output.script_queries.affectedAgentNames$\nTest Type:  $activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PIJRG739TP90Lb949ZXLyA4vippxFI5mG$\nAlert URL: $activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNZMZEWB85Izw2pH80gUzsWJvQzTM6C$$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42IC4Q2nQ3si0azMHj6A8SKlYMAn$",
                          "variable_workflow_01PLT6CBD1XZ311kLDM5M5k6evqfaWT2FRm": "",
                          "variable_workflow_01PLT6CBD1ZB13JLabj1ESxDExcpv8lQytM": "Test Name: $activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PEDDREXYLCA5Hs9ZDezE1mVKVhrE5Kws8$\nRule Name: $activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDODYY9I673dw14mq5YluvEeBWXZr2S7$\nRule Expression: $activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDO2JHAKXC24j4G90qt9y3AnMz4bLPu8$",
                          "variable_workflow_01PLT6CBD20G66lRvRR4Brt48IvWnSGmDfx": "",
                          "variable_workflow_01PLT6CBD22W23SJ5J5vLjwvvew7UQ4cZ92": "",
                          "variable_workflow_01PLT6CBD24392x7egonUWIPncG2T5ZP4K9": "$activity.definition_activity_01PLT6IWAXEUV6kLnY8urSBNTIxBVWFJqXl.output.jsonpath_queries.CI_NODE$_a3",
                          "variable_workflow_01PLT6CBD256Y6lNPXWmqXXfYDNt6ddwaeQ": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNCPD0SR74yI38VFFeYuS0GTg88lsmo$",
                          "variable_workflow_01PLT6CBD26H32ACmHzcTZm48eD8JSaMmGJ": "ACME Critical Website Health DEMO",
                          "variable_workflow_01PLT6CBD27NC45lgNOG323wES5XnTjhWY8": "",
                          "variable_workflow_01PLT6CBD28RM7DFp959A94F7q2fpoCri96": "$workflow.definition_workflow_01PLT6C492IVT09dl7dcdzSgu8NgQBuOu1Z.local.variable_workflow_01PLT6C42ID7U2DURkKCUsoPOgFPlN03l2U$",
                          "variable_workflow_01PLT6CBD29VO2NNglwfKdS3udevqRJXVzs": "$activity.definition_activity_01PLT6F5T5VPU3WPqvjoNKIxDcoTFvXg5jW.output.variable_workflow_01PE6V74RZ8XJ6zGUeRv2VaKZOv062i6Rqp$",
                          "variable_workflow_01PLT6CBD2B0O0K7s0rhQHccbLYUqeyccvy": "$global.variable_01PCUNHQ7WS0U05FLSw4WNwaGasYMJKsDHx.global.variable_01PCUNHQ7WS0U05FLSw4WNwaGasYMJKsDHx$",
                          "variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei": "$activity.definition_activity_01PLT6EXPCDSG00EWTo9WbClUvamOd6GIAQ.output.variable_workflow_01PDDNQRY8KFJ5OD9gDT2qit6O7nNgsDvf8$"
                        },
                        "runtime_user": {
                          "target_default": true
                        },
                        "skip_execution": false,
                        "target": {
                          "execute_on_this_target": true,
                          "target_id": "definition_target_01PCLP3FGEBW72knwPIh07vQXRXxc6uChfT",
                          "target_type": "web-service.endpoint"
                        },
                        "workflow_id": "definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q"
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "categories": [
        "category_01PLT7GJ4NQU76m4p2FmTneuThUqNW5fA0f"
      ]
    },
    "categories": {
      "category_01PCLWDGQUAHA52qFD6BtnQFGmUSWudUviu": {
        "unique_name": "category_01PCLWDGQUAHA52qFD6BtnQFGmUSWudUviu",
        "name": "Service Now",
        "title": "Service Now",
        "type": "basic.category",
        "base_type": "category",
        "category_type": "custom",
        "object_type": "category"
      },
      "category_01PLT7GJ4NQU76m4p2FmTneuThUqNW5fA0f": {
        "unique_name": "category_01PLT7GJ4NQU76m4p2FmTneuThUqNW5fA0f",
        "name": "Demo",
        "title": "Demo",
        "type": "basic.category",
        "base_type": "category",
        "description": "Workflows used for Demo purposes",
        "category_type": "custom",
        "object_type": "category"
      }
    },
    "targets": {
      "definition_target_01PCLP3FGEBW72knwPIh07vQXRXxc6uChfT": {
        "unique_name": "definition_target_01PCLP3FGEBW72knwPIh07vQXRXxc6uChfT",
        "name": "Service Now",
        "title": "Service Now",
        "type": "web-service.endpoint",
        "base_type": "target",
        "object_type": "definition_target",
        "properties": {
          "default_runtime_user_id": "definition_runtime_user_01PCLIKIUV8PP5jO3ccVGWyy4vADLPpRPsG",
          "disable_certificate_validation": true,
          "display_name": "Service Now",
          "host": "ciscodeliverysandbox.service-now.com",
          "ignore_proxy": false,
          "no_runtime_user": false,
          "path": "/api",
          "protocol": "https"
        }
      }
    },
    "runtime_users": {
      "definition_runtime_user_01PCLIKIUV8PP5jO3ccVGWyy4vADLPpRPsG": {
        "unique_name": "definition_runtime_user_01PCLIKIUV8PP5jO3ccVGWyy4vADLPpRPsG",
        "name": "Przemyslaw's Service Now Credentials",
        "title": "Przemyslaw's Service Now Credentials",
        "type": "runtime_user.web-service_basic_credentials",
        "base_type": "runtime_user",
        "object_type": "definition_runtime_user",
        "properties": {
          "auth_option": "*****",
          "basic_password": "*****",
          "basic_username": "*****",
          "display_name": "Przemyslaw's Service Now Credentials"
        }
      }
    },
    "variables": {
      "variable_01PCUNHQ7WS0U05FLSw4WNwaGasYMJKsDHx": {
        "unique_name": "variable_01PCUNHQ7WS0U05FLSw4WNwaGasYMJKsDHx",
        "properties": {
          "value": "19dd95f4dbd5ef00e0eaaed15b961955",
          "scope": "global",
          "name": "Service Now Test Sys ID",
          "type": "datatype.string",
          "is_required": false,
          "is_invisible": false
        },
        "object_type": "variable"
      },
      "variable_01PIE3ZDEI7MP1SYSRDJrfUMisbYzIykzZN": {
        "unique_name": "variable_01PIE3ZDEI7MP1SYSRDJrfUMisbYzIykzZN",
        "properties": {
          "value": true,
          "scope": "global",
          "name": "True",
          "type": "datatype.boolean",
          "description": "True",
          "is_required": false,
          "is_invisible": false
        },
        "object_type": "variable"
      }
    },
    "subworkflows": [
      {
        "workflow": {
          "unique_name": "definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q",
          "name": "Thousand Eyes -> Service Now",
          "title": "Thousand Eyes -> Service Now",
          "type": "generic.workflow",
          "base_type": "workflow",
          "variables": [
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "account",
                "type": "datatype.string",
                "description": "The account ID for the account in Service Now",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD2B0O0K7s0rhQHccbLYUqeyccvy",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "event_message_short",
                "type": "datatype.string",
                "description": "A short version of the event description in Service Now\n\nMaximum: 160 characters",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD1ZB13JLabj1ESxDExcpv8lQytM",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "local",
                "name": "severity",
                "type": "datatype.string",
                "description": "Local variable used to store Severity",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD1VJM4srmfTX5FxVAsgVY2M3fC1",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "thousand_eyes_total_agents",
                "type": "datatype.string",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD29VO2NNglwfKdS3udevqRJXVzs",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "event_origin_id",
                "type": "datatype.string",
                "description": "Event ID from the origin system",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD256Y6lNPXWmqXXfYDNt6ddwaeQ",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "event_additional_info",
                "type": "datatype.string",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD20G66lRvRR4Brt48IvWnSGmDfx",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "Event_last_detected",
                "type": "datatype.string",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD22W23SJ5J5vLjwvvew7UQ4cZ92",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "ci_node",
                "type": "datatype.string",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD24392x7egonUWIPncG2T5ZP4K9",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "thousand_eyes_affected_agents",
                "type": "datatype.string",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD28RM7DFp959A94F7q2fpoCri96",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "local",
                "name": "event_type",
                "type": "datatype.string",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD1Q1P64DZyjJFJsULsEKdtab275",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "event_message",
                "type": "datatype.string",
                "description": "The description to be put on the Service Now event.\n\nMaximum: 4000 characters",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD1WQM0wE0L7x6grEOZhspfO0ZXH",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "ci_node_identifier_type",
                "type": "datatype.string",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD1U6R26yG6xVdrE5NE8sy6zXHyR",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "thousand_eyes_event_type",
                "type": "datatype.string",
                "description": "The event type received from *thousand eyes*.",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "output",
                "name": "Response",
                "type": "datatype.string",
                "description": "Response Payload from Service Now",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD21OT5TrgDVVYE9lCBmb93yZG7K",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "incident_ticket",
                "type": "datatype.string",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD1XZ311kLDM5M5k6evqfaWT2FRm",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "event_time",
                "type": "datatype.string",
                "is_required": false,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD27NC45lgNOG323wES5XnTjhWY8",
              "object_type": "variable_workflow"
            },
            {
              "schema_id": "datatype.string",
              "properties": {
                "value": "",
                "scope": "input",
                "name": "event_metric_name",
                "type": "datatype.string",
                "description": "Name of the metric that triggered the alert.\n\nMaximum: 256 Characters",
                "is_required": true,
                "is_invisible": false
              },
              "unique_name": "variable_workflow_01PLT6CBD26H32ACmHzcTZm48eD8JSaMmGJ",
              "object_type": "variable_workflow"
            }
          ],
          "properties": {
            "atomic": {
              "is_atomic": false
            },
            "delete_workflow_instance": false,
            "display_name": "Thousand Eyes -> Service Now",
            "runtime_user": {
              "target_default": true
            },
            "target": {
              "target_type": "web-service.endpoint",
              "target_id": "definition_target_01PCLP3FGEBW72knwPIh07vQXRXxc6uChfT",
              "execute_on_workflow_target": true
            }
          },
          "object_type": "definition_workflow",
          "actions": [
            {
              "unique_name": "definition_activity_01PLT6CNOOGBX5BSsJXtIkL18NIcEAjbO5P",
              "name": "Condition Block",
              "title": "Is Event Type Stateful?",
              "type": "logic.if_else",
              "base_type": "activity",
              "properties": {
                "continue_on_failure": false,
                "description": "Determine whether the event type should be set to \"Stateless\" or \"Stateful\". This is based on the event type parameter passed in.\n\nIf the event type is one of these:\nALERT_NOTIFICATION_TRIGGER\nAGENT_ALERT_NOTIFICATION_TRIGGER\n\nThen we set the event type to stateful. Otherwise we set to stateless\n\nSource: https://confluence-eng-rtp1.cisco.com/conf/display/CXSSEAID/Rebecca%3A+ThousandEyes+Critical+WebSite+Health",
                "display_name": "Is Event Type Stateful?",
                "skip_execution": true
              },
              "object_type": "definition_activity",
              "blocks": [
                {
                  "unique_name": "definition_activity_01PLT6CRO6P814SihzdOaom3rzLKL6wYaYv",
                  "name": "Condition Branch",
                  "title": "Yes",
                  "type": "logic.condition_block",
                  "base_type": "activity",
                  "properties": {
                    "condition": {
                      "left_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "eq",
                        "right_operand": "ALERT_NOTIFICATION_TRIGGER"
                      },
                      "operator": "or",
                      "right_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "eq",
                        "right_operand": "AGENT_ALERT_NOTIFICATION_TRIGGER"
                      }
                    },
                    "continue_on_failure": false,
                    "display_name": "Yes",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6CTK2Y6A3XsXERmpwuMnOEmtPyGRM6",
                      "name": "Set Variables",
                      "title": "Set Event Type to Stateful",
                      "type": "core.set_multiple_variables",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Set Event Type to Stateful",
                        "skip_execution": false,
                        "variables_to_update": [
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.local.variable_workflow_01PLT6CBD1Q1P64DZyjJFJsULsEKdtab275$",
                            "variable_value_new": "Stateful"
                          }
                        ]
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                },
                {
                  "unique_name": "definition_activity_01PLT6CXWCSQP6Orxs1hQZ8tygxr8z2wQuV",
                  "name": "Condition Branch",
                  "title": "No",
                  "type": "logic.condition_block",
                  "base_type": "activity",
                  "properties": {
                    "condition": {
                      "left_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "ne",
                        "right_operand": "ALERT_NOTIFICATION_TRIGGER"
                      },
                      "operator": "and",
                      "right_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "ne",
                        "right_operand": "AGENT_ALERT_NOTIFICATION_TRIGGER"
                      }
                    },
                    "continue_on_failure": false,
                    "display_name": "No",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6CZSE7JH47lBdwIn2rLrExz9v2iuxB",
                      "name": "Set Variables",
                      "title": "Set Event Type to Stateless",
                      "type": "core.set_multiple_variables",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Set Event Type to Stateless",
                        "skip_execution": false,
                        "variables_to_update": [
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.local.variable_workflow_01PLT6CBD1Q1P64DZyjJFJsULsEKdtab275$",
                            "variable_value_new": "Stateless"
                          }
                        ]
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                }
              ]
            },
            {
              "unique_name": "definition_activity_01PLT6D3XG24Q4WZSAC94tfkH53H1PsZcSF",
              "name": "Condition Block",
              "title": "Is Severity Clear? (Alpha)",
              "type": "logic.if_else",
              "base_type": "activity",
              "properties": {
                "continue_on_failure": false,
                "description": "Marked as alpha because requirements are not fully completed.\n\nDetermine whether the severity is set to \"Major\" or \"Clear\". Set to clear if event type is one of:\nALERT_NOTIFICATION_CLEAR\nAGENT_ALERT_NOTIFICATION_CLEAR\n\nOtherwise set severity to major\n\nSource: https://confluence-eng-rtp1.cisco.com/conf/display/CXSSEAID/Rebecca%3A+ThousandEyes+Critical+WebSite+Health",
                "display_name": "Is Severity Clear? (Alpha)",
                "skip_execution": false
              },
              "object_type": "definition_activity",
              "blocks": [
                {
                  "unique_name": "definition_activity_01PLT6D7Z47S02dwDzVJWJf020zHkXIQ5Nh",
                  "name": "Condition Branch",
                  "title": "Yes",
                  "type": "logic.condition_block",
                  "base_type": "activity",
                  "properties": {
                    "condition": {
                      "left_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "eq",
                        "right_operand": "ALERT_NOTIFICATION_CLEAR"
                      },
                      "operator": "or",
                      "right_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "eq",
                        "right_operand": "AGENT_ALERT_NOTIFICATION_CLEAR"
                      }
                    },
                    "continue_on_failure": false,
                    "display_name": "Yes",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6D9VYGDU5IiUr4sH0UQeq3vys5Vfez",
                      "name": "Set Variables",
                      "title": "Set Severity to Clear",
                      "type": "core.set_multiple_variables",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Set Severity to Clear",
                        "skip_execution": false,
                        "variables_to_update": [
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.local.variable_workflow_01PLT6CBD1VJM4srmfTX5FxVAsgVY2M3fC1$",
                            "variable_value_new": "Clear"
                          }
                        ]
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                },
                {
                  "unique_name": "definition_activity_01PLT6DE3M8UF5PKDWcyXHEl941i0ghAgDr",
                  "name": "Condition Branch",
                  "title": "No",
                  "type": "logic.condition_block",
                  "base_type": "activity",
                  "properties": {
                    "condition": {
                      "left_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "ne",
                        "right_operand": "ALERT_NOTIFICATION_CLEAR"
                      },
                      "operator": "and",
                      "right_operand": {
                        "left_operand": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2C3N5weCWVQrNUtdOKtnJ8htei$",
                        "operator": "ne",
                        "right_operand": "AGENT_ALERT_NOTIFICATION_CLEAR"
                      }
                    },
                    "continue_on_failure": false,
                    "display_name": "No",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6DG569LL3j5DBQSHMjvnlDx79ucY2p",
                      "name": "Execute Python Script",
                      "title": "Calculate Affected Agents Percent",
                      "type": "python3.script",
                      "base_type": "activity",
                      "properties": {
                        "action_timeout": 180,
                        "continue_on_failure": false,
                        "display_name": "Calculate Affected Agents Percent",
                        "script": "import sys, json\nif sys.argv[1].startswith('['):\n  affectedAgents = json.loads(sys.argv[1])\nelse:\n  affectedAgents = [sys.argv[1]]\nif sys.argv[2].startswith('['):\n  totalAgents = json.loads(sys.argv[2])\nelse:\n  totalAgents = [sys.argv[2]]\nif len(affectedAgents) == len(totalAgents):\n  severity_level = \"Major\"\nelse:\n  severity_level = \"Minor\"",
                        "script_arguments": [
                          "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD28RM7DFp959A94F7q2fpoCri96$",
                          "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD29VO2NNglwfKdS3udevqRJXVzs$"
                        ],
                        "script_queries": [
                          {
                            "script_query": "severity_level",
                            "script_query_name": "severity_level",
                            "script_query_type": "string"
                          }
                        ],
                        "skip_execution": false
                      },
                      "object_type": "definition_activity"
                    },
                    {
                      "unique_name": "definition_activity_01PLT6DKN08X52Xi7WauV6hLNxXF6vSGMvg",
                      "name": "Set Variables",
                      "title": "Set Severity to Severity Level",
                      "type": "core.set_multiple_variables",
                      "base_type": "activity",
                      "properties": {
                        "continue_on_failure": false,
                        "display_name": "Set Severity to Severity Level",
                        "skip_execution": false,
                        "variables_to_update": [
                          {
                            "variable_to_update": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.local.variable_workflow_01PLT6CBD1VJM4srmfTX5FxVAsgVY2M3fC1$",
                            "variable_value_new": "$activity.definition_activity_01PLT6DG569LL3j5DBQSHMjvnlDx79ucY2p.output.script_queries.severity_level$"
                          }
                        ]
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                }
              ]
            },
            {
              "unique_name": "definition_activity_01PLT6DQ7OT0X6wE1GkSpkq9HHc4gNbmpgP",
              "name": "Service Now - Send Info (Alpha)",
              "title": "Service Now - Send Info (Alpha)",
              "type": "workflow.atomic_workflow",
              "base_type": "subworkflow",
              "properties": {
                "continue_on_failure": false,
                "display_name": "Service Now - Send Info (Alpha)",
                "input": {
                  "variable_workflow_01PCTGKMFH3WV2Yv5NBVmEgwoGukGcqINWf": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD2B0O0K7s0rhQHccbLYUqeyccvy$",
                  "variable_workflow_01PCTH090ZBVT42lEI7SuHUZuazeSLsyBgE": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD24392x7egonUWIPncG2T5ZP4K9$",
                  "variable_workflow_01PCTH7RVLPP80PVI49PQVHI7YRXypAYPBG": "CI Name",
                  "variable_workflow_01PCTHGT0Y17V3snr2uKyMYBQRBQ976Tpnx": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD1WQM0wE0L7x6grEOZhspfO0ZXH$",
                  "variable_workflow_01PCTHQE0XKFQ5JF2uuEP1Oh1hT8IZdIZSt": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD1ZB13JLabj1ESxDExcpv8lQytM$",
                  "variable_workflow_01PCTIATVH07P3CUjxwmxysoCYe1JeONTSV": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD26H32ACmHzcTZm48eD8JSaMmGJ$",
                  "variable_workflow_01PCTIK6REJJ71v0OeeZmKax5aPrXe1ZQcJ": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.input.variable_workflow_01PLT6CBD256Y6lNPXWmqXXfYDNt6ddwaeQ$",
                  "variable_workflow_01PCTISLG030F1FgiGBtQ62a2t4RAWSt0ZP": "Thousandeyes",
                  "variable_workflow_01PCTIYVZS6VU5hAUDnKzZzo1p1Nacsox1R": "Stateful",
                  "variable_workflow_01PCTJ6L1689Q5nhfd4h497cy9ws6Kj087w": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.local.variable_workflow_01PLT6CBD1VJM4srmfTX5FxVAsgVY2M3fC1$",
                  "variable_workflow_01PCTJJ4SQXWR2CbVbg9C73FFHAhULCJubd": "",
                  "variable_workflow_01PCTJPM4ZTEU1Q0IDZUoMOoIqrJ5NoWKfk": "",
                  "variable_workflow_01PCTJV41B2MI2leDH6r4DRcoAie6v8D8nD": "",
                  "variable_workflow_01PCTK1M2B2S93uJNnp73k9cri5DFf4Px3K": ""
                },
                "runtime_user": {
                  "target_default": true
                },
                "skip_execution": false,
                "target": {
                  "execute_on_this_target": true,
                  "target_id": "definition_target_01PCLP3FGEBW72knwPIh07vQXRXxc6uChfT",
                  "target_type": "web-service.endpoint"
                },
                "workflow_id": "definition_workflow_01PCTDQD9LFL10tNfjMknq1zKO1GBalXvNK"
              },
              "object_type": "definition_activity"
            },
            {
              "unique_name": "definition_activity_01PLT6DX7TLOP0CtSRQM32bUocHJmN3Cgf2",
              "name": "Execute Python Script",
              "title": "Check if API Failed",
              "type": "python3.script",
              "base_type": "activity",
              "properties": {
                "action_timeout": 180,
                "continue_on_failure": false,
                "description": "Serivce now stupidly returns a 200 for failures",
                "display_name": "Check if API Failed",
                "script": "import sys,json\nresponse = json.loads(sys.argv[1])\nfail = response.get(\"result\") and len(response['result']) and \\\n  isinstance(response['result'], list) and \\\n  response['result'][0] and 'error_message' in response['result'][0]",
                "script_arguments": [
                  "$activity.definition_activity_01PLT6DQ7OT0X6wE1GkSpkq9HHc4gNbmpgP.output.variable_workflow_01PCTQN4JJ8QC7NI2M9Bgyz4fr6wRUXxIZS$"
                ],
                "script_queries": [
                  {
                    "script_query": "fail",
                    "script_query_name": "fail",
                    "script_query_type": "string"
                  }
                ],
                "skip_execution": false
              },
              "object_type": "definition_activity"
            },
            {
              "unique_name": "definition_activity_01PLT6E1V7W2A0P8XnqEjsb910dfI40L26P",
              "name": "Condition Block",
              "title": "Service Now Failed?",
              "type": "logic.if_else",
              "base_type": "activity",
              "properties": {
                "continue_on_failure": false,
                "display_name": "Service Now Failed?",
                "skip_execution": false
              },
              "object_type": "definition_activity",
              "blocks": [
                {
                  "unique_name": "definition_activity_01PLT6E62TGWE2KCCJaioMaUV34dFHIEl3R",
                  "name": "Condition Branch",
                  "title": "Yes",
                  "type": "logic.condition_block",
                  "base_type": "activity",
                  "properties": {
                    "condition": {
                      "left_operand": "$activity.definition_activity_01PLT6DX7TLOP0CtSRQM32bUocHJmN3Cgf2.output.script_queries.fail$",
                      "operator": "eq",
                      "right_operand": "True"
                    },
                    "continue_on_failure": false,
                    "display_name": "Yes",
                    "skip_execution": false
                  },
                  "object_type": "definition_activity",
                  "actions": [
                    {
                      "unique_name": "definition_activity_01PLT6E8513ZW6X64R4UtiQzti8x1R0KHHm",
                      "name": "Completed",
                      "title": "Failed",
                      "type": "logic.completed",
                      "base_type": "activity",
                      "properties": {
                        "completion_type": "failed-completed",
                        "continue_on_failure": false,
                        "display_name": "Failed",
                        "result_message": "Service now API failed: $activity.definition_activity_01PLT6DQ7OT0X6wE1GkSpkq9HHc4gNbmpgP.output.variable_workflow_01PCTQN4JJ8QC7NI2M9Bgyz4fr6wRUXxIZS$",
                        "skip_execution": false
                      },
                      "object_type": "definition_activity"
                    }
                  ]
                }
              ]
            },
            {
              "unique_name": "definition_activity_01PLT6ECGL8KK3whO2yxQKZqbd0Gw4uv6Ee",
              "name": "Set Variables",
              "title": "Set Response",
              "type": "core.set_multiple_variables",
              "base_type": "activity",
              "properties": {
                "continue_on_failure": false,
                "display_name": "Set Response",
                "skip_execution": false,
                "variables_to_update": [
                  {
                    "variable_to_update": "$workflow.definition_workflow_01PLT6CBK23K31C8arCQIamxe1FaSbDmy7Q.output.variable_workflow_01PLT6CBD21OT5TrgDVVYE9lCBmb93yZG7K$",
                    "variable_value_new": "$activity.definition_activity_01PLT6DQ7OT0X6wE1GkSpkq9HHc4gNbmpgP.output.variable_workflow_01PCTQN4JJ8QC7NI2M9Bgyz4fr6wRUXxIZS$"
                  }
                ]
              },
              "object_type": "definition_activity"
            }
          ],
          "categories": [
            "category_01PCLWDGQUAHA52qFD6BtnQFGmUSWudUviu"
          ]
        }
      }
    ],
    "atomic_workflows": [
      "definition_workflow_01PDDS63Y6QEH2wGlK2oPfst9dkTJGyfKGp",
      "definition_workflow_01PCUIXZSC72J5J0HSMZbgHxAHfKR16AmXD",
      "definition_workflow_01P8H1VSD9FBH1cep1H1qnGar8DDpFs6ZQu",
      "definition_workflow_01PCTDQD9LFL10tNfjMknq1zKO1GBalXvNK",
      "definition_workflow_01PDDM76BX8722kfyMLGCoefagM8hBq2dh4",
      "definition_workflow_01PE4UK4YJ0DN1PVSipd02Nmk7wDdxoagd3"
    ]
  }